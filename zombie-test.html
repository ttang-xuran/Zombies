<!DOCTYPE html>
<html>
<head>
    <title>Zombie Test</title>
    <style>
        body { margin: 0; background: #000; color: white; font-family: Arial; }
        canvas { border: 2px solid white; display: block; margin: 20px auto; }
        #info { text-align: center; margin: 20px; }
    </style>
</head>
<body>
    <div id="info">Zombie Visibility Test - You should see colored circles</div>
    <canvas id="canvas" width="800" height="600"></canvas>
    <div id="debug">Debug info will appear here</div>
    
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const debugDiv = document.getElementById('debug');
        
        console.log('Starting zombie test...');
        
        // Player position (center)
        const player = { x: 400, y: 300 };
        
        // Create test zombies
        const zombies = [];
        for (let i = 0; i < 8; i++) {
            const angle = (i / 8) * Math.PI * 2;
            const distance = 100 + i * 20; // Varying distances
            const zombie = {
                x: player.x + Math.cos(angle) * distance,
                y: player.y + Math.sin(angle) * distance,
                size: 15 + i * 2,
                type: ['walker', 'runner', 'crawler'][i % 3]
            };
            zombies.push(zombie);
            console.log(`Test zombie ${i + 1} at (${Math.floor(zombie.x)}, ${Math.floor(zombie.y)})`);
        }
        
        function render() {
            // Clear canvas
            ctx.fillStyle = '#111';
            ctx.fillRect(0, 0, 800, 600);
            
            // Draw grid for reference
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            for (let x = 0; x < 800; x += 50) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, 600);
                ctx.stroke();
            }
            for (let y = 0; y < 600; y += 50) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(800, y);
                ctx.stroke();
            }
            
            // Draw player (blue square)
            ctx.fillStyle = '#0066ff';
            ctx.fillRect(player.x - 15, player.y - 15, 30, 30);
            ctx.fillStyle = '#ffffff';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('PLAYER', player.x, player.y - 20);
            
            // Draw zombies (bright colors for visibility)
            zombies.forEach((zombie, index) => {
                const colors = ['#ff0000', '#00ff00', '#ffff00', '#ff00ff', '#00ffff', '#ff8800', '#8800ff', '#88ff00'];
                
                // Big bright circle
                ctx.fillStyle = colors[index];
                ctx.beginPath();
                ctx.arc(zombie.x, zombie.y, zombie.size, 0, Math.PI * 2);
                ctx.fill();
                
                // White outline
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Label
                ctx.fillStyle = '#ffffff';
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(`Z${index + 1}`, zombie.x, zombie.y + 3);
                ctx.fillText(zombie.type, zombie.x, zombie.y + zombie.size + 15);
            });
            
            // Debug info
            debugDiv.innerHTML = `
                Player: (${player.x}, ${player.y})<br>
                Zombies: ${zombies.length}<br>
                Canvas: ${canvas.width}x${canvas.height}<br>
                Context: ${ctx ? 'OK' : 'ERROR'}
            `;
        }
        
        // Render immediately
        render();
        console.log('Zombie test rendered');
        
        // Animation loop (optional)
        function animate() {
            render();
            requestAnimationFrame(animate);
        }
        // animate(); // Uncomment to enable animation
    </script>
</body>
</html>